<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CRUD Usuarios</title>
    <link rel="stylesheet" href="style.css">
    <link rel="icon" href="https://cdn-icons-png.flaticon.com/512/1946/1946488.png">
</head>
<body>
    <header>
        <h1>CRUD de Usuarios</h1>
        <p>Proyecto Backend en Node.js + Express</p>
    </header>

    <section class="project-intro">
        <h2>Descripci√≥n</h2>
        <p>Este proyecto es una API REST que permite crear, leer, actualizar y eliminar usuarios.</p>
    </section>

    <section class="project-preview">
        <h2>Vista previa de la API</h2>
        <div class="preview-card">
            <h3>Endpoints principales</h3>
            <ul>
                <li><code>GET /api/users</code> ‚Üí Listar usuarios</li>
                <li><code>POST /api/users</code> ‚Üí Crear usuario</li>
                <li><code>PUT /api/users/:id</code> ‚Üí Actualizar usuario</li>
                <li><code>DELETE /api/users/:id</code> ‚Üí Eliminar usuario</li>
            </ul>
            <p class="small">Se usa Node.js + Express y estructura MVC.</p>
        </div>
    </section>
    
    <!-- Secci√≥n de prueba del CRUD -->
  <section class="crud-test">
    <h2>Probar CRUD de Usuarios</h2>
    <div class="crud-form">
      <input type="text" id="name" placeholder="Nombre">
      <input type="email" id="email" placeholder="Email">
      <button onclick="createUser()">Crear Usuario</button>
    </div>
    <div class="crud-results">
      <h3>Lista de Usuarios</h3>
      <ul id="user-list"></ul>
      <button onclick="loadUsers()">Actualizar Lista</button>
    </div>
  </section>
    
  <section class="project-links">
        <h2>Link al c√≥digo ‚¨áÔ∏è</h2>
        <a href="https://github.com/jjulito/crud-usuarios" target="_blank" class="btn">Ver en GitHub</a>
    </section>

    <footer>
        <p>üíª Creado por Julito</p>
    </footer>
    
    <script>
    const API_URL = "https://crud-usuarios-1zkp.onrender.com/api/users";

    async function loadUsers() {
      try {
        const res = await fetch(API_URL);
        const users = await res.json();
        const list = document.getElementById("user-list");
        list.innerHTML = "";
        users.forEach(u => {
          const li = document.createElement("li");
          li.textContent = `ID: ${u.id} - ${u.name} (${u.email})`;
          list.appendChild(li);
        });
      } catch (err) {
        console.error(err);
        alert("Error cargando usuarios");
      }
    }

    async function createUser() {
      const name = document.getElementById("name").value;
      const email = document.getElementById("email").value;
      if (!name || !email) {
        alert("Completa todos los campos");
        return;
      }
      try {
        await fetch(API_URL, {
          method: "POST",
          headers: { "Content-Type": "application/json" },
          body: JSON.stringify({ name, email })
        });
        loadUsers();
      } catch (err) {
        console.error(err);
        alert("Error creando usuario.");
      }
    }

    loadUsers();
  </script>
    
</body>
</html>
